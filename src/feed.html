<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Social media application feed site</title>
    <meta name="author" content="Ana Cascante and Jean Christoffer Dahl" />
    <meta
      name="description"
      content="This is a social media platform for people studing and working with Frondend development"
    />

    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link
      href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <link rel="stylesheet" href="./css/feed.css" />

    <script type="module" src="./components/logout.js"></script>
    <script type="module" src="./components/feed.js"></script>
  </head>
  <body class="bg-dark">
    <header class="">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark m-3">
        <a class="navbar-brand" href="./feed.html">
          <img
            src="./img/mouselogo.jpg"
            alt="white mouse face with sunglasses"
            width="30"
            height="30"
            class="rounded-circle"
          />
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="./feed.html">Nerdsnett</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./profile.html">My profile</a>
            </li>
            <li class="nav-item">
              <button class="nav-link" tabindex="-1" id="logOut">
                log out
              </button>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="custom-container">
      <h1 class="text-white">Nerdsnett feed</h1>
      <nav class="nav-container mb-3">
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a
              class="nav-link btn btn-primary"
              id="filter-tab"
              data-bs-toggle="pill"
              href="#filter"
              >Filter</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link btn btn-primary"
              id="search-tab"
              data-bs-toggle="pill"
              href="#search"
              >Search</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link btn btn-primary"
              id="create-post-tab"
              data-bs-toggle="pill"
              href="#create-post"
              >Create Post</a
            >
          </li>
        </ul>

        <div class="tab-content mt-4">
          <!-- Filter Content -->
          <div
            class="tab-pane fade"
            id="filter"
            role="tabpanel"
            aria-labelledby="filter-tab"
          >
            <label for="filterSelect">Select a Filter:</label>
            <select id="filterSelect" class="form-control">
              <option value="all">All Posts</option>
              <option value="lastThreeDays">Last three days</option>
              <option value="today">Today</option>
              <option value="withImages">Posts with images</option>
              <option value="withoutImages">Posts without images</option>
              <option value="withComments">Posts with comments</option>
              <option value="withoutComments">Posts without comments</option>
            </select>
          </div>

          <!-- Search Content -->
          <div
            class="tab-pane fade"
            id="search"
            role="tabpanel"
            aria-labelledby="search-tab"
          >
            <label for="searchInput">Search:</label>
            <input
              type="text"
              id="searchInput"
              class="form-control"
              placeholder="Search..."
            />
          </div>

          <!-- Create Post Content -->
          <div
            class="tab-pane fade"
            id="create-post"
            role="tabpanel"
            aria-labelledby="create-post-tab"
          >
            <form id="createPostForm">
              <div class="form-group">
                <label for="title" class="text-white">Title *</label>
                <input
                  type="text"
                  class="form-control"
                  id="title"
                  name="title"
                  required
                />
              </div>
              <div class="form-group mt-3">
                <label for="body" class="text-white">Body *</label>
                <textarea
                  class="form-control"
                  id="body"
                  name="body"
                  rows="3"
                  required
                ></textarea>
              </div>
              <div class="form-group mt-3">
                <label for="imageUrl" class="text-white"
                  >Image URL (optional)</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="imageUrl"
                  name="imageUrl"
                />
              </div>
              <div class="form-group mt-3">
                <label for="tags" class="text-white">Hashtags</label>
                <input type="text" class="form-control" id="tags" name="tags" />
              </div>
              <button type="submit" class="btn btn-primary mt-3">Post</button>
            </form>
          </div>
        </div>
      </nav>
    </div>
    <main class="container custom-container" id="feed-container"></main>
    <!--MODAL FOR EDIT POST : )-->
    <div
      class="modal fade"
      id="editPostModal"
      tabindex="-1"
      aria-labelledby="editPostModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title" id="editPostModalLabel">Edit Post</h2>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <label for="editTitle">Edit Title:</label>
            <input
              type="text"
              id="editTitle"
              class="form-control my-2"
              placeholder="Edit title"
            />
            <label for="editBody">Edit Post Content:</label>
            <input
              type="text"
              id="editBody"
              class="form-control my-2"
              placeholder="Edit post content"
            />
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary" id="confirmEdit">
              Edit Post
            </button>
          </div>
        </div>
      </div>
    </div>
    <!--MODAL FOR  POST BY ID AND COMMENTS: )-->
    <div
      class="modal fade"
      id="postId"
      tabindex="-1"
      aria-labelledby="postId"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content card">
          <div class="card-header">
            <img
              class="card-profile-img"
              src=""
              id="post-card-modal-img"
              aria-label="Card profile image"
            />
            <div class="userInfo">
              <p class="name" id="modalUserName"></p>
              <p class="handle" id="modalUserHandle"></p>
            </div>
            <p class="time" id="modalTimeAgo"></p>
            <div class="user-buttons"></div>
          </div>
          <div class="card-body">
            <article class="card-body-content">
              <h3 id="modalTitle"></h3>
              <p id="modalBody"></p>
            </article>
          </div>
          <div class="card-content-img-container">
            <img id="modalImageSrc" src="" aria-label="Card image" />
          </div>
          <div class="reaction-container">
            <button id="modalCommentBtn" aria-label="open comments">
              <i class="fas fa-comment"></i><span id="commentCount">0</span>
            </button>
          </div>
          <div class="comments-section mt-3">
            <h4>Comments</h4>
            <div class="comments-list" id="commentSectionModal">
              <!-- Comments will be populated here -->
            </div>

            <form id="modalCommentForm">
              <div class="input-group mt-2">
                <label for="modalCommentInput">Write a comment:</label>
                <input
                  type="text"
                  id="modalCommentInput"
                  class="form-control"
                  placeholder="Write a comment..."
                />
                <div class="input-group-append mx-1">
                  <button class="btn btn-primary" type="submit">Post</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--Modal for userBio-->
    <div class="profile-container">
      <div class="modal" tabindex="-1" id="userProfileModal">
        <div class="modal-dialog">
          <div class="modal-content custom-modal-content">
            <div class="modal-body custom-modal-body">
              <div class="custom-modal-body">
                <img
                  src=""
                  class="custom-modal-image"
                  alt="Header Image"
                  id="modalHeaderImg"
                />
                <img
                  src=""
                  id="modalProfileImg"
                  class="custom-modal-profile-img"
                  alt="Profile Image"
                />
              </div>
            </div>

            <div class="bio-section text-left bg-dark">
              <div class="mt-4 custom-body-container">
                <h5
                  class="username text-white px-2"
                  id="username"
                  aria-label="User name"
                ></h5>
                <p class="following-info text-warning badge fs-5">
                  Following
                  <span
                    class="badge bg-primary rounded-pill fs-5"
                    id="followingCount"
                    >0</span
                  >
                </p>
                <p class="followers-info text-warning badge fs-5">
                  Followers
                  <span
                    class="badge bg-primary rounded-pill fs-5"
                    id="followersCount"
                    >0</span
                  >
                </p>
                <button
                  class="btn btn-primary bg-warning text-dark custom-btn"
                  id="followModalButton"
                >
                  Follow
                </button>
                <p class="text-white px-2" id="userBioModalName">UserName</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
      crossorigin="anonymous"
    ></script>
    <div id="snackbar">Post Created Successfully!</div>
  </body>
</html>
